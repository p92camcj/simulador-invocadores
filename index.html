<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Simulador Invocadores</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#6c4eb6">

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(reg => console.log('SW registrado ✔️'))
        .catch(err => console.error('SW error ❌', err));
    }
  </script>
</head>
<body>
  <div class="container">
    <h1>Simulador «Invocadores»</h1>
    <div id="setup" class="section">
      <h2>Configurar partida</h2>
      <label>Jugadoras (2‑4): <input id="numPlayers" type="number" min="2" max="4" value="2" /></label>
      <button id="cfgNext" class="btn primary">Continuar</button>
      <div id="nameWrap" class="hidden">
        <h3>Nombres</h3>
        <form id="nameForm"></form>
        <button id="btnStart" class="btn primary">Iniciar</button>
      </div>
    </div>
    <div id="ctrlPlay" class="section hidden">
      <h3>Jugar carta</h3>
      <label>Carta:<br /><select id="selCard"></select></label>
      <label>Destino:<br /><select id="selDest"></select></label>
      <div>
        <button id="btnPlay" class="btn primary">Jugar</button>
        <button id="btnPlayCancel" class="btn secondary">Cancelar</button>
      </div>
    </div>
    <div id="picker" class="section hidden">
      <h3 id="pickerTitle"></h3>
      <select id="pickerSelect"></select>
      <div>
        <button id="pickerOk" class="btn primary">OK</button>
        <button id="pickerCancel" class="btn secondary">Cancelar</button>
      </div>
    </div>
    <div id="info" class="section">
      <h2 id="lblTurn"></h2>
      <h3>Invocación: <span id="lblInv"></span></h3>
      <div id="invStatus" class="status"></div>
    </div>
    <div class="section flex">
      <div id="zoneActive" class="portal"></div>
      <div id="zoneOthers" class="handbox"></div>
    </div>
    <div id="zoneNeutral" class="section hidden">
      <h3>Portales neutrales</h3>
      <div id="neutralArea" class="flex"></div>
    </div>
    <button id="btnEndTurn" class="btn secondary hidden">Terminar turno</button>
  </div>
  <script type="module" src="js/index.js"></script>
  
  <div id="pwa-install-container"></div>
  <script src="js/pwa-install.js"></script>

  <script src="js/version-check.js"></script>

</body>
</html>
